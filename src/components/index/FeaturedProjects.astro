---
import getProjects from "../../utils/getProjects";
import getTextI18 from "../../utils/getTexti18";
import ProyectCard from "./ProyectCard.astro";

const { lang } = Astro.params as {
  lang: string;
};

const my_projects = await getTextI18(lang, "projects_title");

const projects = await getProjects(lang);
---

<section class="flex flex-col items-center gap-4">
  <div class="flex items-center gap-6 w-full">
    <div class="h-px flex-1 bg-white/80"></div>
    <h2 class="text-2xl text-title font-bold font-mono">{my_projects}</h2>
    <div class="h-px flex-1 bg-white/80"></div>
  </div>

  {projects.map((project) => <ProyectCard {...project} />)}
</section>
