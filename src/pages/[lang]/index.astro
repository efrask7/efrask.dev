---
export const prerender = true;
import Skills from "../../components/index/Skills.astro";
import Timeline from "../../components/index/Experience.astro";
import Welcome from "../../components/index/Welcome.astro";
import Layout from "../../layouts/Layout.astro";
import FeaturedProjects from "../../components/index/FeaturedProjects.astro";
import getSupportedLangs from "../../utils/lang";

const supportedLangs = getSupportedLangs();

export function getStaticPaths() {
  return getSupportedLangs();
}

const { lang } = Astro.params;

if (!supportedLangs.map((l) => l.params.lang).includes(lang)) {
  Astro.redirect("/es");
}
---

<Layout>
  <Welcome />
  <Skills />
  <Timeline />
  <FeaturedProjects />
</Layout>
