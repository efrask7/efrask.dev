---
import Error404 from "../components/Error404.astro";
import Layout from "../layouts/Layout.astro";
import getSupportedLangs from "../utils/lang";

const supportedLangs = getSupportedLangs();

export function getStaticPaths() {
  return supportedLangs;
}

const { lang } = Astro.params;

if (!supportedLangs.map((l) => l.params.lang).includes(lang)) {
  Astro.redirect("/es");
}
---

<Layout>
  <Error404 />
</Layout>
